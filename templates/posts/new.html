{% extends base|default:'blank.html' %}
{% load blog_extras %}
{% block content %}
{% if user.is_authenticated and user|has_group:"publisher" %} 
<div class="row">
    <div class="col-sm-10 col-sm-offset-1">
        <div class="panel panel-info">
            <div class="panel-heading">
                New Post
            </div>
            <div class="panel-body">
                <form method="POST" action="{% url 'posts:new' %}">
                    {% csrf_token %}
                    <input type="hidden" name="user_id" value="{{ user.id }}" />
                    <div class="form-group">
                        <input type="text" class="form-control" name="title" placeholder="Title" required>
                    </div>
                    <div class="form-group">
                        <textarea name="content" class="form-control" placeholder="Content" rows="5" required></textarea>
                    </div>
                    
                    <button class="btn btn-primary">Submit</button>
                </form>
            </div>
        </div>
    </div>
</div>
{% else %}
    {% if base == 'layout.html' %}
        <div class="container">
            <div class="alert alert-danger">
              <strong>Error!</strong> You are not allowed to create a new post.
            </div>
        </div>
    {% endif %}
{% endif %}
{% endblock %}